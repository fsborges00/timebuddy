<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ET Time Buddy</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/luxon@3.5.0/build/global/luxon.min.js" defer></script>
  <script src="app.js?v=20260224a" defer></script>
</head>
<body>
  <main class="container">
    <header class="app-header">
      <h1>ET Time Buddy</h1>
      <p>Compare multiple time zones with Eastern Time (America/New_York).</p>
    </header>

    <nav class="view-tabs" aria-label="Feature tabs">
      <button id="tabConverter" class="tab-btn active" type="button" data-view="converter" aria-pressed="true">Time Converter</button>
      <button id="tabGoldenHours" class="tab-btn" type="button" data-view="golden-hours" aria-pressed="false">Golden Hours</button>
    </nav>

    <div id="converterView" class="app-view">
      <section class="panel controls" aria-label="Time settings">
        <div class="field-row">
          <label for="locationInput">Add location / timezone</label>
          <div class="location-input-wrap">
            <input id="locationInput" placeholder="Type a timezone code, city, country, or timezone" autocomplete="off" />
            <div class="favorites-menu-wrap">
              <button id="favoriteBtn" class="icon-btn" type="button" aria-label="Show saved favorites" title="Saved favorites" aria-expanded="false" aria-controls="favoritesMenu">☆</button>
              <div id="favoritesMenu" class="favorites-menu hidden" aria-label="Saved favorites">
                <p class="favorites-menu-title">Saved favorites</p>
                <div id="favoritesMenuList" class="favorites-menu-list empty">No favorites yet.</div>
              </div>
            </div>
          </div>
          <div id="locationSuggestions" class="typeahead-list hidden" role="listbox" aria-label="Location suggestions"></div>
        </div>

        <section class="comparison-list-wrap" aria-label="Comparison list">
          <h2>Comparison list</h2>
          <div id="comparisonList" class="comparison-list empty">No zones added. Use the selector above and press Enter to compare.</div>
        </section>

        <fieldset class="mode-toggle">
          <legend>Mode</legend>
          <label><input type="radio" name="mode" value="now" /> Live</label>
          <label><input type="radio" name="mode" value="pick" checked /> Custom</label>
        </fieldset>

        <div id="customTimeSection" class="custom-time hidden" aria-hidden="true">
          <div class="field-grid">
            <div>
              <label for="dateInput">Date</label>
              <input id="dateInput" type="date" />
            </div>
            <div>
              <label for="timeHourInput">Time</label>
              <div class="time-select-row">
                <input id="timeHourInput" type="text" inputmode="numeric" placeholder="h" aria-label="Hour" />
                <span class="time-separator">:</span>
                <input id="timeMinuteInput" type="text" inputmode="numeric" placeholder="mm" aria-label="Minute" />
                <select id="timeMeridiemSelect" aria-label="AM PM">
                  <option value="AM">AM</option>
                  <option value="PM">PM</option>
                </select>
              </div>
            </div>
          </div>
          <div class="advanced-settings">
            <button id="advancedSettingsToggle" class="advanced-settings-toggle" type="button" aria-expanded="false" aria-controls="advancedSettingsContent">
              <span>Advanced settings</span>
              <span class="advanced-settings-chevron" aria-hidden="true">▾</span>
            </button>
            <div id="advancedSettingsContent" class="advanced-settings-content hidden">
              <div class="field-row">
                <label for="inputTzSelect">Input time zone</label>
                <select id="inputTzSelect" aria-label="Input time zone"></select>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="panel result-card" aria-live="polite" aria-atomic="true">
        <h2>Results</h2>
        <div id="resultsList" class="results-list">
          <!-- ET row + per-zone rows rendered by app.js -->
        </div>
        <div class="copy-actions">
          <button id="copyAllBtn" type="button">Copy all times</button>
        </div>
        <p id="copyFeedback" class="copy-feedback" role="status"></p>
      </section>
    </div>

    <section id="goldenHoursView" class="panel app-view hidden" aria-label="Golden business-hour overlap">
      <h2>Golden Hours</h2>
      <p class="golden-hours-intro">Pick two or more cities/timezones to find the best overlap for standard business hours (7:00 AM to 7:00 PM local time).</p>

      <div class="golden-controls">
        <div class="field-row">
          <label for="businessLocationInput">Add city / timezone</label>
          <div class="golden-location-add-row">
            <input id="businessLocationInput" placeholder="Type city, timezone code, country, or IANA timezone" autocomplete="off" />
            <button id="businessAddLocationBtn" type="button">Add</button>
          </div>
          <div id="businessLocationSuggestions" class="typeahead-list hidden" role="listbox" aria-label="Business location suggestions"></div>
        </div>
        <div class="field-row">
          <label for="businessDateInput">Date</label>
          <input id="businessDateInput" type="date" />
        </div>
      </div>

      <div id="businessLocationList" class="business-location-list empty">Select at least two locations.</div>
      <p id="businessSummary" class="business-summary">No overlap yet.</p>
      <div id="businessTimeline" class="business-timeline" aria-label="Business overlap timeline"></div>
      <div id="businessWindows" class="business-windows"></div>
      <section id="businessSubjectCard" class="business-subject-card hidden" aria-live="polite" aria-atomic="true">
        <h3>Email Subject Preview</h3>
        <p id="businessSubjectPreview" class="business-subject-preview">Select a fully overlapping time box to preview.</p>
        <div class="copy-actions">
          <button id="businessCopySubjectBtn" type="button">Copy subject</button>
        </div>
        <p id="businessCopyFeedback" class="copy-feedback" role="status"></p>
      </section>
    </section>
  </main>
</body>
</html>
